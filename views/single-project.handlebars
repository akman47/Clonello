{{!-- invite user modal --}}
<section class="modal-invite-user">
    <div class="modal-content">
        <div class="invite-user">
            <h2>Invite New Project Member</h2>
            <form class="add-user-form" data-project-id="{{project.id}}">
                <div class="form-input user-menu">
                    <label for="invite-user-menu">Choose a user to invite: </label>
                    <select name="invite-user-menu" id="invite-user-menu">
                        {{#each users}}
                        <option value="{{username}}-id{{id}}">{{username}}</option>
                        {{/each}}
                    </select>
                </div>
                <button type="submit" class="btn btn-invite-user">Add User</button>
                <button type="button" class="btn btn-close-invite-modal">Close</button>
            </form>
        </div>
    </div>
</section>

{{!-- main single-project view --}}
<section>
    <a class="back" href="/dashboard"> &larr; Back to Dashboard</a>
    <div class="project-header">
        <h2>{{project.title}}</h2>
        <div class="dash-btn-container">
            <button type="button" class="btn btn-open-invite-modal">Invite Project Member</button>
            <button type="button" class="btn" id="open-task-modal">Add Task</button>
            <button type="button" class="btn" id="open-status-modal">Create New Status</button>
        </div>
    </div>
    <table id='project-task'>
        <tr>
            <th class="table-header">Task</th>
            <th class="table-header">Assigned</th>
            <th class="table-header">Status</th>
        </tr>
        {{#each project.tasks}}
        <tr>
            <td class="task-text-{{id}}" data-task-id="{{id}}">{{task_text}}</td>
            <td class="task-user" data-user-id="{{user.id}}">{{user.username}}</td>
            <td class="task-status" data-status-id="{{status.id}}">{{status.title}}</td>
            <td>
                <button type="button" class="btn btn-edit" data-task-id="{{id}}">Edit Task</button>
                <button type="button" class="btn btn-delete" data-task-id="{{id}}">Delete Task</button>
            </td>
        </tr>
        {{/each}}
    </table>
</section>

{{!-- add task modal --}}
<section class="modal-add-task">
        <div class="add-task">
            <h2>Add Project Task</h2>
            <form class="new-task-form" data-project-id="{{project.id}}">
                <div class="form-input">
                    <input type="text" id="new-task" name="new-task" placeholder="Task" />
                </div>
                <div class="form-input user-menu">
                    <select name="user-menu" id="task-user-menu">
                        <option disabled selected value>Assign Task To: </option>
                        {{#each project.users}}
                        <option value="{{username}}-id{{id}}">{{username}}</option>
                        {{/each}}
                    </select>
                </div>
                <div class="form-input status-menu">
                    <select name="status-menu" id="status-menu">
                        <option disabled selected value>Select Task Status</option>
                        {{#each status}}
                        <option value="{{title}}-id{{id}}">{{title}}</option>
                        {{/each}}
                    </select>
                </div>
                <button type="submit" class="btn" id="btn-add-task">Add Task</button>
                <button type="button" class="btn" id="close-task-modal">Close</button>
            </form>
        </div>
    </div>
</section>

{{!-- add status modal --}}
<section class = "modal-add-status">
    <div class="add-status">
        <h2>Add Task Status</h2>
        <form class="new-status">
            <div>
                <input type="text" id="new-status-text" name="new-status-text" placeholder="To Do" />
            </div>
            <button type="click" id="btn-add-status" class="btn">Add Status</button>
            <button type="button" class="btn" id="close-status-modal">Close</button>
        </form>
    </div>
</section>

<script src="/javascript/invite-user.js"></script>
<script src="/javascript/add-task.js"></script>
<script src="/javascript/delete-task.js"></script>
<script src="/javascript/add-status.js"></script>